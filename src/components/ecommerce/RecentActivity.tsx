import React, { useState } from "react";

const activities = [
    {
        date: "Today",
        items: [
            {
                iconColor: "bg-orange-400",
                icon: (
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.00024 1.83333C11.406 1.83351 14.1663 4.59457 14.1663 8.00032C14.1661 11.4059 11.4058 14.1662 8.00024 14.1663H2.66626C2.47309 14.1663 2.28708 14.0992 2.13892 13.9779L2.07739 13.9222C1.92121 13.7659 1.83325 13.5543 1.83325 13.3333V8.00032C1.83325 4.59447 4.59439 1.83333 8.00024 1.83333ZM6.00024 8.83333C5.72953 8.83333 5.46858 8.92791 5.26099 9.09798L5.17505 9.17513C4.95626 9.39392 4.83325 9.6909 4.83325 10.0003C4.83333 10.2711 4.92769 10.532 5.0979 10.7396L5.17505 10.8245C5.39384 11.0433 5.69082 11.1663 6.00024 11.1663H8.00024C8.27088 11.1663 8.53198 11.0727 8.7395 10.9027L8.82446 10.8245C9.04318 10.6058 9.16617 10.3096 9.16626 10.0003C9.16626 9.72974 9.0725 9.46861 8.90259 9.26107L8.82446 9.17513C8.60576 8.95651 8.30947 8.83342 8.00024 8.83333H6.00024ZM5.99927 6.16634C5.73928 6.16665 5.48799 6.2541 5.28442 6.41243L5.19946 6.4847C5.01027 6.66331 4.88743 6.89957 4.8479 7.15462L4.83618 7.26497C4.82093 7.52473 4.89319 7.78072 5.03931 7.99349L5.10571 8.08236C5.27269 8.28185 5.50098 8.41924 5.75317 8.47396L5.86255 8.49154L5.8772 8.49349L5.89185 8.49446L5.96997 8.49935L5.98462 8.50032H10.0002C10.2604 8.50004 10.5124 8.41279 10.7161 8.25423L10.8 8.18196C10.9892 8.00336 11.1121 7.76708 11.1516 7.51204L11.1643 7.40169C11.1795 7.14207 11.1072 6.88588 10.9612 6.67318L10.8938 6.58431C10.703 6.35637 10.4322 6.21025 10.137 6.17513L10.1223 6.17318L10.1077 6.1722L10.0295 6.16732L10.0149 6.16634H5.99927Z" fill="white" stroke="white" />
                    </svg>
                ),
                user: "Christian Wood",
                userLink: "#",
                action: "Sent Message to ",
                target: "Nikita Houston",
                targetLink: "#",
                time: "1 min ago",
                replies: [
                    {
                        user: "Nikita Houston",
                        userLink: "#",
                        action: "Replay your message ",
                        message: '"Hello"',
                        time: "1 min ago",
                    },
                ],
            },
            {
                iconColor: "bg-red-400",
                icon: (
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.00024 1.83333C11.406 1.83351 14.1663 4.59457 14.1663 8.00032C14.1661 11.4059 11.4058 14.1662 8.00024 14.1663H2.66626C2.47309 14.1663 2.28708 14.0992 2.13892 13.9779L2.07739 13.9222C1.92121 13.7659 1.83325 13.5543 1.83325 13.3333V8.00032C1.83325 4.59447 4.59439 1.83333 8.00024 1.83333ZM6.00024 8.83333C5.72953 8.83333 5.46858 8.92791 5.26099 9.09798L5.17505 9.17513C4.95626 9.39392 4.83325 9.6909 4.83325 10.0003C4.83333 10.2711 4.92769 10.532 5.0979 10.7396L5.17505 10.8245C5.39384 11.0433 5.69082 11.1663 6.00024 11.1663H8.00024C8.27088 11.1663 8.53198 11.0727 8.7395 10.9027L8.82446 10.8245C9.04318 10.6058 9.16617 10.3096 9.16626 10.0003C9.16626 9.72974 9.0725 9.46861 8.90259 9.26107L8.82446 9.17513C8.60576 8.95651 8.30947 8.83342 8.00024 8.83333H6.00024ZM5.99927 6.16634C5.73928 6.16665 5.48799 6.2541 5.28442 6.41243L5.19946 6.4847C5.01027 6.66331 4.88743 6.89957 4.8479 7.15462L4.83618 7.26497C4.82093 7.52473 4.89319 7.78072 5.03931 7.99349L5.10571 8.08236C5.27269 8.28185 5.50098 8.41924 5.75317 8.47396L5.86255 8.49154L5.8772 8.49349L5.89185 8.49446L5.96997 8.49935L5.98462 8.50032H10.0002C10.2604 8.50004 10.5124 8.41279 10.7161 8.25423L10.8 8.18196C10.9892 8.00336 11.1121 7.76708 11.1516 7.51204L11.1643 7.40169C11.1795 7.14207 11.1072 6.88588 10.9612 6.67318L10.8938 6.58431C10.703 6.35637 10.4322 6.21025 10.137 6.17513L10.1223 6.17318L10.1077 6.1722L10.0295 6.16732L10.0149 6.16634H5.99927Z" fill="white" stroke="white" />
                    </svg>
                ),
                user: "Christian Wood",
                userLink: "#",
                action: "Accept Order from ",
                target: "Ebay",
                targetLink: "#",
                time: "1 min ago",
                replies: [
                    {
                        user: "Rohan Walker",
                        userLink: "#",
                        action: "Replay your message ",
                        message: "Ebay",
                        time: "1 min ago",
                    },
                    {
                        user: "Rohan Walker",
                        userLink: "#",
                        action: "Replay your message ",
                        message: "Ebay",
                        time: "1 min ago",
                    },
                ],
            },
        ],
    },
    {
        date: "Yesterday",
        items: [
            {
                iconColor: "bg-violet-500",
                icon: (
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.00024 1.83333C11.406 1.83351 14.1663 4.59457 14.1663 8.00032C14.1661 11.4059 11.4058 14.1662 8.00024 14.1663H2.66626C2.47309 14.1663 2.28708 14.0992 2.13892 13.9779L2.07739 13.9222C1.92121 13.7659 1.83325 13.5543 1.83325 13.3333V8.00032C1.83325 4.59447 4.59439 1.83333 8.00024 1.83333ZM6.00024 8.83333C5.72953 8.83333 5.46858 8.92791 5.26099 9.09798L5.17505 9.17513C4.95626 9.39392 4.83325 9.6909 4.83325 10.0003C4.83333 10.2711 4.92769 10.532 5.0979 10.7396L5.17505 10.8245C5.39384 11.0433 5.69082 11.1663 6.00024 11.1663H8.00024C8.27088 11.1663 8.53198 11.0727 8.7395 10.9027L8.82446 10.8245C9.04318 10.6058 9.16617 10.3096 9.16626 10.0003C9.16626 9.72974 9.0725 9.46861 8.90259 9.26107L8.82446 9.17513C8.60576 8.95651 8.30947 8.83342 8.00024 8.83333H6.00024ZM5.99927 6.16634C5.73928 6.16665 5.48799 6.2541 5.28442 6.41243L5.19946 6.4847C5.01027 6.66331 4.88743 6.89957 4.8479 7.15462L4.83618 7.26497C4.82093 7.52473 4.89319 7.78072 5.03931 7.99349L5.10571 8.08236C5.27269 8.28185 5.50098 8.41924 5.75317 8.47396L5.86255 8.49154L5.8772 8.49349L5.89185 8.49446L5.96997 8.49935L5.98462 8.50032H10.0002C10.2604 8.50004 10.5124 8.41279 10.7161 8.25423L10.8 8.18196C10.9892 8.00336 11.1121 7.76708 11.1516 7.51204L11.1643 7.40169C11.1795 7.14207 11.1072 6.88588 10.9612 6.67318L10.8938 6.58431C10.703 6.35637 10.4322 6.21025 10.137 6.17513L10.1223 6.17318L10.1077 6.1722L10.0295 6.16732L10.0149 6.16634H5.99927Z" fill="white" stroke="white" />
                    </svg>

                ),
                user: "Christian Wood",
                userLink: "#",
                action: "Accept Order from ",
                target: "Amazon",
                targetLink: "#",
                time: "12:30PM",
                replies: [],
            },
        ],
    },
    {
        date: "25 May 2024",
        items: [
            {
                iconColor: "bg-sky-400",
                icon: (
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.00024 1.83333C11.406 1.83351 14.1663 4.59457 14.1663 8.00032C14.1661 11.4059 11.4058 14.1662 8.00024 14.1663H2.66626C2.47309 14.1663 2.28708 14.0992 2.13892 13.9779L2.07739 13.9222C1.92121 13.7659 1.83325 13.5543 1.83325 13.3333V8.00032C1.83325 4.59447 4.59439 1.83333 8.00024 1.83333ZM6.00024 8.83333C5.72953 8.83333 5.46858 8.92791 5.26099 9.09798L5.17505 9.17513C4.95626 9.39392 4.83325 9.6909 4.83325 10.0003C4.83333 10.2711 4.92769 10.532 5.0979 10.7396L5.17505 10.8245C5.39384 11.0433 5.69082 11.1663 6.00024 11.1663H8.00024C8.27088 11.1663 8.53198 11.0727 8.7395 10.9027L8.82446 10.8245C9.04318 10.6058 9.16617 10.3096 9.16626 10.0003C9.16626 9.72974 9.0725 9.46861 8.90259 9.26107L8.82446 9.17513C8.60576 8.95651 8.30947 8.83342 8.00024 8.83333H6.00024ZM5.99927 6.16634C5.73928 6.16665 5.48799 6.2541 5.28442 6.41243L5.19946 6.4847C5.01027 6.66331 4.88743 6.89957 4.8479 7.15462L4.83618 7.26497C4.82093 7.52473 4.89319 7.78072 5.03931 7.99349L5.10571 8.08236C5.27269 8.28185 5.50098 8.41924 5.75317 8.47396L5.86255 8.49154L5.8772 8.49349L5.89185 8.49446L5.96997 8.49935L5.98462 8.50032H10.0002C10.2604 8.50004 10.5124 8.41279 10.7161 8.25423L10.8 8.18196C10.9892 8.00336 11.1121 7.76708 11.1516 7.51204L11.1643 7.40169C11.1795 7.14207 11.1072 6.88588 10.9612 6.67318L10.8938 6.58431C10.703 6.35637 10.4322 6.21025 10.137 6.17513L10.1223 6.17318L10.1077 6.1722L10.0295 6.16732L10.0149 6.16634H5.99927Z" fill="white" stroke="white" />
                    </svg>
                ),
                user: "Christian Wood",
                userLink: "#",
                action: "Accept Order from ",
                target: "Walmart",
                targetLink: "#",
                time: "11:20AM",
                replies: [],
            },
        ],
    },
];

const RecentActivity = () => {
    const [tab, setTab] = useState("Message");
    return (
        <div className="border border-gray-200 rounded-2xl bg-white p-4 md:p-6 dark:bg-gray-900 dark:border-gray-800">
            <div className="flex items-center justify-between mb-2 border-b border-gray-200 dark:border-gray-800 pb-2 w-full">
                <h3 className="text-xl font-semibold text-gray-800 dark:text-white">Recent Activities</h3>
                <div className="flex rounded-lg border border-gray-200 bg-gray-50 dark:bg-gray-700 dark:border-gray-800">
                    <button
                        className={`px-4 py-1.5 rounded-lg font-medium text-sm focus:outline-none ${tab === "Message" ? "bg-white text-gray-900 dark:font-bold dark:bg-gray-900 dark:text-white" : "text-gray-500 dark:text-gray-300"}`}
                        onClick={() => setTab("Message")}
                    >
                        Message
                    </button>
                    <button
                        className={`px-4 py-1.5 rounded-lg font-medium text-sm focus:outline-none ${tab === "Email" ? "bg-white text-gray-900 dark:bg-gray-900 dark:text-white" : "text-gray-500 dark:text-gray-300"}`}
                        onClick={() => setTab("Email")}
                    >
                        Email
                    </button>
                </div>
            </div>
            <div className="divide-y divide-gray-100">
                {activities.map((section) => (
                    <div key={section.date} className="py-2">
                        <div className="text-xs font-semibold text-gray-400 mb-2 uppercase tracking-wide">{section.date}</div>
                        {section.items.map((item, idx) => (
                            <div key={idx} className="flex items-start gap-3 mb-2">
                                <div className={`mt-1 flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${item.iconColor}`}>{item.icon}</div>
                                <div className="flex-1 min-w-0">
                                    <span className="font-medium text-violet-700 hover:underline cursor-pointer"><a href={item.userLink}>{item.user}</a></span>
                                    <span className="text-gray-500"> {item.action}</span>
                                    {item.target && <span className="font-medium text-violet-700 hover:underline cursor-pointer"><a href={item.targetLink}>{item.target}</a></span>}
                                    <span className="text-gray-400"> • {item.time}</span>
                                    {item.replies && item.replies.length > 0 && (
                                        <div className="ml-7 mt-1 space-y-1">
                                            {item.replies.map((reply, rIdx) => (
                                                <div key={rIdx} className="flex items-start gap-2 text-sm text-gray-500">
                                                    <span className="flex items-center justify-center border border-gray-200 rounded-full bg-gray-100 p-1">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M4.77345 7.31467C5.39146 6.5855 6.21847 6.06369 7.14267 5.81979C8.06687 5.5759 9.04367 5.62167 9.94101 5.95094C10.8383 6.28021 11.6129 6.87708 12.16 7.66085C12.7072 8.44462 13.0004 9.3775 13.0001 10.3333C13.0001 10.5986 13.1055 10.8529 13.293 11.0404C13.4805 11.228 13.7349 11.3333 14.0001 11.3333C14.2653 11.3333 14.5197 11.228 14.7072 11.0404C14.8948 10.8529 15.0001 10.5986 15.0001 10.3333C15.0001 6.65133 12.0154 3.66667 8.33345 3.66667C7.4012 3.66565 6.47917 3.86069 5.62719 4.23913C4.77522 4.61757 4.01235 5.17094 3.38811 5.86333L3.15678 4.55333C3.13631 4.42194 3.08983 4.29595 3.02008 4.18274C2.95033 4.06952 2.85869 3.97136 2.75054 3.89399C2.64239 3.81662 2.51989 3.76159 2.39022 3.73213C2.26055 3.70268 2.1263 3.69938 1.99533 3.72243C1.86437 3.74549 1.73932 3.79443 1.6275 3.8664C1.51568 3.93837 1.41934 4.03191 1.34411 4.14157C1.26888 4.25122 1.21628 4.37477 1.18938 4.505C1.16248 4.63523 1.16182 4.76952 1.18745 4.9L1.88211 8.84C1.92811 9.10067 2.07545 9.33333 2.29345 9.48533C2.56211 9.67333 2.91611 9.71533 3.21678 9.62L6.97945 8.956C7.11084 8.93553 7.23683 8.88906 7.35004 8.8193C7.46326 8.74955 7.56142 8.65791 7.63879 8.54976C7.71616 8.44161 7.77119 8.31912 7.80065 8.18944C7.8301 8.05977 7.8334 7.92552 7.81035 7.79456C7.78729 7.66359 7.73835 7.53854 7.66638 7.42672C7.59441 7.3149 7.50087 7.21856 7.39121 7.14333C7.28156 7.0681 7.15801 7.0155 7.02778 6.9886C6.89755 6.9617 6.76326 6.96104 6.63278 6.98667L4.77411 7.314L4.77345 7.31467Z" fill="#0E253C" fill-opacity="0.65" />
                                                        </svg>
                                                    </span>
                                                    <span>
                                                        <span className="font-medium text-violet-700 hover:underline cursor-pointer"><a href={reply.userLink}>{reply.user}</a></span>
                                                        <span> {reply.action}</span>
                                                        {reply.message && <span className="text-violet-700">{reply.message}</span>}
                                                        <span className="text-gray-400"> • {reply.time}</span>
                                                    </span>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            </div>
                        ))}
                    </div>
                ))}
            </div>
        </div>
    );
};

export default RecentActivity; 